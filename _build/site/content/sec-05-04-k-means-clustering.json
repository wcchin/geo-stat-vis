{"version":2,"kind":"Article","sha256":"49614a79e7cbdc4e03052567e8a83dd590a653af5bb358d45176a900c8ba340e","slug":"sec-05-04-k-means-clustering","location":"/src/content/chapter_5/sec_05-04-K-Means-Clustering.md","dependencies":[],"frontmatter":{"title":"k-means clustering","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Benny Chin","given":"Benny","family":"Chin"},"name":"Benny Chin","affiliations":["GIS Unit, Geography, National University of Singapore"],"id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-NC-ND-4.0","url":"https://creativecommons.org/licenses/by-nc-nd/4.0/","name":"Creative Commons Attribution Non Commercial No Derivatives 4.0 International","CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/wcchin/geo-stat-vis","keywords":["GIS","GIScience","Cartography","Spatial Analysis"],"copyright":"2025 National University of Singapore","affiliations":[{"id":"GIS Unit, Geography, National University of Singapore","name":"GIS Unit, Geography, National University of Singapore"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/wcchin/geo-stat-vis/blob/main/src/content/chapter_5/sec_05-04-K-Means-Clustering.md","edit_url":"https://github.com/wcchin/geo-stat-vis/edit/main/src/content/chapter_5/sec_05-04-K-Means-Clustering.md","thumbnail":"/kmeans-step_0-afdc8748f2f7d42dd8a7621767718b00.png","exports":[{"format":"md","filename":"sec_05-04-K-Means-Clustering.md","url":"/sec_05-04-K-Means-Cl-57f2181078d8b584b1796d5b09b2dcee.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What is k-means Clustering?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eRuBXvFjkH"}],"identifier":"what-is-k-means-clustering","label":"What is k-means Clustering?","html_id":"what-is-k-means-clustering","implicit":true,"key":"syVV3NuXgK"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Definition","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"AQTukiCuBd"}],"key":"BLxfS4lyon"},{"type":"text","value":":\nk-means is an unsupervised machine learning algorithm used for clustering data points into ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IvLs4jwzBp"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"k distinct, non-overlapping groups","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CVFBtH22FA"}],"key":"DXEPi4IZHR"},{"type":"text","value":" based on their similarities and differences.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tOsfdgZZhi"}],"key":"r5886Zh8GQ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Objective","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"h1sKNwGLml"}],"key":"p8jwS7Yk18"},{"type":"text","value":":\nThe main goal of k-means is to minimize the within-cluster sum of squares (WCSS), which represents the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"AFhAFMBz6A"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"total squared distance (euclidean distance) between data points and their nearest cluster centroid","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"S0zSpnM7AB"}],"key":"mhAIrQ16PK"},{"type":"text","value":".","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"majywfGLFe"}],"key":"ylvVpCdpVs"},{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Steps & Process","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QfM2Jw08O9"}],"identifier":"steps-process","label":"Steps & Process","html_id":"steps-process","implicit":true,"key":"THQwG5ZqDV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Choose k","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"jJNc3BTb9w"}],"key":"r82FxiJXR7"},{"type":"text","value":": Select the number of clusters (k) to generate.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"zJFji9AWBh"}],"key":"sRcTgxiFUo"}],"key":"yHZQIWUhCW"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Initialize centroids","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"h1WiwaRCdQ"}],"key":"RthYABVObD"},{"type":"text","value":": Randomly select k initial centroids from the dataset or use other initialization methods like k-means++.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"tdj6sRig1l"}],"key":"tee9mM6qV5"}],"key":"EIzCQGfITs"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Assign points to clusters","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"mmo0ydg91P"}],"key":"YecJ5IP1Nq"},{"type":"text","value":": Assign each data point to the cluster with the nearest centroid.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"gGjoSPiZ0g"}],"key":"OkBOJyWFit"}],"key":"CWlYh0qKkI"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Update centroids","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"gW18wwmiVf"}],"key":"c1poa1IPiL"},{"type":"text","value":": Recalculate the centroid positions by taking the mean of all data points belonging to each cluster.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"UAoEZ7CEK0"}],"key":"FOTNwhVJ3u"}],"key":"uOWNCEGOAt"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Repeat","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"yYhFXivz32"}],"key":"elb3stqs3M"},{"type":"text","value":": Repeat steps 3 and 4 until convergence, i.e., no further changes in cluster assignments or centroid positions occur.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"JMRx8aU0NR"}],"key":"HxROff8U7v"}],"key":"cy6Jfsp0Za"}],"key":"KahzAjDSTL"},{"type":"heading","depth":3,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Steps demo: 1","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"eoxmCLQiVL"}],"identifier":"steps-demo-1","label":"Steps demo: 1","html_id":"steps-demo-1","implicit":true,"key":"GrT6eEo7oV"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/kmeans-step_0-afdc8748f2f7d42dd8a7621767718b00.png","alt":"The data point","align":"center","data":{"altTextIsAutoGenerated":true},"key":"Chvl2kJerh","urlSource":"../resources/w07-img/kmeans-step_0.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"The data point","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ikLrO5edHQ"}],"key":"rGkEJL13h2"}],"key":"tgCXsz3VgM"}],"enumerator":"1","key":"C8FwnzNCg1"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/kmeans-step_1-2272fd372a43f28e758fd48376f6ec6a.png","alt":"The steps:\n1 Initialize with random centroids. 2 Get the nearest neighbors, and calculate the new mean centers. 3 Move the centers to the mean centers","align":"center","data":{"altTextIsAutoGenerated":true},"key":"R4JrMI1yxa","urlSource":"../resources/w07-img/kmeans-step_1.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"The steps:\n1 Initialize with random centroids. 2 Get the nearest neighbors, and calculate the new mean centers. 3 Move the centers to the mean centers","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"JShBqM2FZl"}],"key":"pFDC4lNcF9"}],"key":"dzES7f5SSJ"}],"enumerator":"2","key":"RrHIz75HR6"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/kmeans-step_2-595fde4e230aca4acbd6cbd8a9935be6.png","alt":"The steps:\n1 Re-calculate distance and find nearest neighbors. 2 Re-Calculate new mean centers and move","align":"center","data":{"altTextIsAutoGenerated":true},"key":"oK90qT2wNq","urlSource":"../resources/w07-img/kmeans-step_2.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"The steps:\n1 Re-calculate distance and find nearest neighbors. 2 Re-Calculate new mean centers and move","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"tcryqBnXcJ"}],"key":"wEgOrjiVE0"}],"key":"V9l7pDP8vF"}],"enumerator":"3","key":"Vs9TZWA9Qt"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/kmeans-step_3-279919f465be1f64454a3e1dbb6fef93.png","alt":"The steps:\n1 The location of new and previous centers overlapped. Hence, stops.","align":"center","data":{"altTextIsAutoGenerated":true},"key":"Hz7eEqnmvf","urlSource":"../resources/w07-img/kmeans-step_3.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":61,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"The steps:\n1 The location of new and previous centers overlapped. Hence, stops.","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"suXg3EqdzE"}],"key":"d9ewPiHdhb"}],"key":"PJeypAhxpg"}],"enumerator":"4","key":"DhQeN2wwj5"},{"type":"heading","depth":3,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"k-means Clustering: Example with 7 clusters","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"rs9Uj0nUiD"}],"identifier":"k-means-clustering-example-with-7-clusters","label":"k-means Clustering: Example with 7 clusters","html_id":"k-means-clustering-example-with-7-clusters","implicit":true,"key":"Su9qOvSSHV"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/kmeans_7-ac8cc1d7c30d29a188e7b0e6affb66d4.gif","alt":"","align":"center","key":"Tubc0ANXNe","urlSource":"../resources/w07-img/kmeans_demo_7/kmeans_7.gif"}],"enumerator":"5","key":"aL0MEcLOmc"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/kmeans_7-step_17-ebd21a9c541899039e07f83bf3dc4067.png","alt":"The final clusters.","align":"center","data":{"altTextIsAutoGenerated":true},"key":"KoC8E5pIPE","urlSource":"../resources/w07-img/kmeans_demo_7/kmeans_7-step_17.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"The final clusters.","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"bUDuQmzjc9"}],"key":"Yjad0WqudH"}],"key":"vduJQR4Man"}],"enumerator":"6","key":"iXnQubBjHq"},{"type":"heading","depth":2,"position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Parameters and Initialization","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"iqUFemxNwc"}],"identifier":"parameters-and-initialization","label":"Parameters and Initialization","html_id":"parameters-and-initialization","implicit":true,"key":"dDYD0beQjb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":86,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How do we know the number of clusters (i.e., the k in k-means)?","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"yVAcSTOFeQ"}],"key":"CMIt8XL0v2"}],"key":"c4aN8osGF2"},{"type":"listItem","spread":true,"position":{"start":{"line":87,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How to initialize mean centers’ locations?","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"Cbfft3LCm4"}],"key":"dfgMCS9Xp4"}],"key":"llXOTLc4Ya"}],"key":"rP6PBHpH9H"},{"type":"heading","depth":3,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"How to select k","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"RUmkruZ6xE"}],"identifier":"how-to-select-k","label":"How to select k","html_id":"how-to-select-k","implicit":true,"key":"pMno8NEn3E"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Elbow Method","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"mgKzNLez04"}],"key":"yze0gYylWM"},{"type":"text","value":": Plot the explained variation (or distortion) as a function of the number of clusters, and choose the elbow point as the number of clusters to use. The elbow point is the point of diminishing returns, where the additional gain in reducing the distortion starts to decrease significantly as more clusters are added. For the final iteration (i), the explained variation (EV^i) can be calculated by the distance between each point (k) and the cluster they were assigned (C_j^i).","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"VgYoIVZjV2"}],"key":"z2zITAUsbG"},{"type":"math","value":"D_{j}^i = \\sum (|x_k - \\mu_j^i|^2)","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>D</mi><mi>j</mi><mi>i</mi></msubsup><mo>=</mo><mo>∑</mo><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>x</mi><mi>k</mi></msub><mo>−</mo><msubsup><mi>μ</mi><mi>j</mi><mi>i</mi></msubsup><msup><mi mathvariant=\"normal\">∣</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">D_{j}^i = \\sum (|x_k - \\mu_j^i|^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2578em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-2.453em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6em;vertical-align:-0.55em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mopen\">(</span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2578em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\">∣</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"1","key":"wfpQl0XoLt"},{"type":"paragraph","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"E98OfH89cs"},{"type":"inlineMath","value":"{x_{k} \\in C_j^i}","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>k</mi></msub><mo>∈</mo><msubsup><mi>C</mi><mi>j</mi><mi>i</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">{x_{k} \\in C_j^i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2194em;vertical-align:-0.3948em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8247em;\"><span style=\"top:-2.4413em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3948em;\"><span></span></span></span></span></span></span></span></span></span></span>","key":"Nn6eosKe4m"}],"key":"uaP2OGsDSs"},{"type":"math","value":"D^i = ∑_{j=1}^k D_j^i","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>D</mi><mi>i</mi></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msubsup><mi>D</mi><mi>j</mi><mi>i</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D^i = ∑_{j=1}^k D_j^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8747em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.2499em;vertical-align:-1.4138em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8361em;\"><span style=\"top:-1.8723em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4138em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-2.453em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span></span>","enumerator":"2","key":"U7wcTf3ypc"},{"type":"math","value":"EV^i = D^0 - D^i","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>E</mi><msup><mi>V</mi><mi>i</mi></msup><mo>=</mo><msup><mi>D</mi><mn>0</mn></msup><mo>−</mo><msup><mi>D</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">EV^i = D^0 - D^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8747em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9474em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8747em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"3","key":"cweB4zxVJz"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/DataClustering_Elbow-53c11dd0e2d81d65783268810a2f4a27.JPG","alt":"Wikipedia","align":"center","data":{"altTextIsAutoGenerated":true},"key":"jg63gY3o6m","urlSource":"../resources/w07-img/DataClustering_ElbowCriterion.JPG"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"link","url":"https://en.wikipedia.org/wiki/File:DataClustering_ElbowCriterion.JPG","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"qaZoct4TT9"}],"urlSource":"https://en.wikipedia.org/wiki/File:DataClustering_ElbowCriterion.JPG","data":{"page":"File:DataClustering_ElbowCriterion.JPG","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"roYqiwCQQ6"}],"key":"Ig1pMMjFPP"}],"key":"mThRV4Kiwr"}],"enumerator":"7","key":"MjvMuRlJPI"},{"type":"paragraph","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"strong","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"Silhouette Analysis","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"KneMSGlS7b"}],"key":"uDcFD5AtQz"},{"type":"text","value":": Calculate the average silhouette score (","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"FjOhYHrMPT"},{"type":"inlineMath","value":"Si","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">Si</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">i</span></span></span></span>","key":"IAQ2vC9QJb"},{"type":"text","value":") for different values of k and choose the value that yields the highest score. The silhouette score measures the cohesiveness of datapoints within a cluster compared to their closeness to datapoints in other clusters, with values closer to 1 indicating well-defined clusters.","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"eZ7zq1yPPu"}],"key":"Kq3St8AW8e"},{"type":"math","value":"Si = (b_i - a_i) / \\text{max}(a_i, b_i)","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>S</mi><mi>i</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mi>i</mi></msub><mo>−</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">/</mi><mtext>max</mtext><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Si = (b_i - a_i) / \\text{max}(a_i, b_i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\">/</span><span class=\"mord text\"><span class=\"mord\">max</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"4","key":"GBOnkRXBF6"},{"type":"paragraph","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"inlineMath","value":"a_i","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"LqJTONWZl0"},{"type":"text","value":" is the average distance between point i and all other points in its own cluster:","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"larVMTSOUY"}],"key":"BgMUh5ihJs"},{"type":"math","value":"a_i = \\sum \\frac{(d(x_i, x_j))}{|C_i|}","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><mo>∑</mo><mfrac><mrow><mo stretchy=\"false\">(</mo><mi>d</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><msub><mi>C</mi><mi>i</mi></msub><mi mathvariant=\"normal\">∣</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">a_i = \\sum \\frac{(d(x_i, x_j))}{|C_i|}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.363em;vertical-align:-0.936em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"5","key":"T7Mzga0yAY"},{"type":"paragraph","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"where, ","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"gCKjc8DGI7"},{"type":"inlineMath","value":"x_j ∈ C_i","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>j</mi></msub><mo>∈</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_j ∈ C_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8252em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"DUhDJudjJQ"}],"key":"RZED89zVfp"},{"type":"paragraph","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"inlineMath","value":"b_i","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">b_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"APgsdaGzGi"},{"type":"text","value":" is the lowest average distance between point i and all points in any other cluster:","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"qqupSxHD6T"}],"key":"yyt79U7njn"},{"type":"math","value":"b_i = \\text{min} ∑ \\frac{(d(x_i, x_j))}{|C_j|}","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>=</mo><mtext>min</mtext><mo>∑</mo><mfrac><mrow><mo stretchy=\"false\">(</mo><mi>d</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><msub><mi>C</mi><mi>j</mi></msub><mi mathvariant=\"normal\">∣</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">b_i = \\text{min} ∑ \\frac{(d(x_i, x_j))}{|C_j|}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3991em;vertical-align:-0.9721em;\"></span><span class=\"mord text\"><span class=\"mord\">min</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9721em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"6","key":"jQTwhf6IY0"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"where, ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"MchsF9wzYf"},{"type":"inlineMath","value":"x_j ∈ C_j","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>j</mi></msub><mo>∈</mo><msub><mi>C</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_j ∈ C_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8252em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"rVeUGUnlbE"},{"type":"text","value":" and ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"as3lj7Wz2R"},{"type":"inlineMath","value":"j\\neq i","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi><mo mathvariant=\"normal\">≠</mo><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">j\\neq i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span>","key":"q08LRzJ522"}],"key":"LuiwRAXFih"},{"type":"paragraph","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Note that the Silhouette Coefficient ranges between -1 and 1, with higher values indicating better clustering.","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"fnN0ILIB75"}],"key":"RCnp2MDVqX"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/Silhouette-plot-oran-3ae128d7ed583b407a1e137b003a868d.png","alt":"Wikipedia","align":"center","data":{"altTextIsAutoGenerated":true},"key":"iigOqRtdJs","urlSource":"../resources/w07-img/Silhouette-plot-orange.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"link","url":"https://commons.wikimedia.org/wiki/File:Silhouette-plot-orange.png","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"UEj4NnUA66"}],"urlSource":"https://commons.wikimedia.org/wiki/File:Silhouette-plot-orange.png","key":"LkmkTEZmWW"}],"key":"XpLn6lV0Zg"}],"key":"v6wNwttpJC"}],"enumerator":"8","key":"EyEmb3k4cS"},{"type":"paragraph","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"strong","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"Other approaches","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"tOCeVQuJbx"}],"key":"JEZAz3LocK"}],"key":"qwAGh2nscZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":141,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"link","url":"https://en.wikipedia.org/wiki/Determining_the_number_of_clusters_in_a_data_set#The_gap_statistics","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Gap Statistic","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"xmGb8q8CEo"}],"urlSource":"https://en.wikipedia.org/wiki/Determining_the_number_of_clusters_in_a_data_set#The_gap_statistics","data":{"page":"Determining_the_number_of_clusters_in_a_data_set#The_gap_statistics","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"TL3BwnIElV"},{"type":"text","value":": Compare the total within-cluster variation for different values of k and choose the value that maximizes the gap statistic, which is the difference between the observed and expected within-cluster variation.","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"M9W1hw1O0b"}],"key":"hA6wQiGR25"}],"key":"QYf2AtHd94"},{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"Domain Knowledge: Rely on your knowledge of the dataset and the problem domain to choose a value for k that makes sense in the context of your analysis.","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"PmFr7ftuX7"}],"key":"ObSU3yOWNn"}],"key":"cDNuAcelBT"}],"key":"C9GeFReVSl"},{"type":"heading","depth":3,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"How set the initial position of the mean centers?","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"aEcy1pUwE4"}],"identifier":"how-set-the-initial-position-of-the-mean-centers","label":"How set the initial position of the mean centers?","html_id":"how-set-the-initial-position-of-the-mean-centers","implicit":true,"key":"CQJS85ElVI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":149,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"Random Initialization: Randomly select k points from the dataset to serve as the initial centers. This method is simple but may lead to suboptimal clusters due to its unpredictability.","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"Wh8oU80U51"}],"key":"Z3PRGPR4NO"}],"key":"MZpH8qnn77"},{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"k-means++: Choose the first center randomly from the dataset. Then, for each subsequent center, choose a point from the dataset with a probability proportional to its squared distance from the nearest existing center. This method tends to provide better clustering results than random initialization.","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"KSbBlR9ux5"}],"key":"gpQhl9TR5k"}],"key":"YG1r70Ialq"},{"type":"listItem","spread":true,"position":{"start":{"line":153,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"Furthest Point: Calculate the distances between all pairs of points in the dataset, then choose the two points with the largest distance as the first two centers. For each subsequent center, select the point that maximizes the minimum distance to the previously chosen centers.","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"qrCoKvJQQ3"}],"key":"C3wqkW1zK9"}],"key":"vJr1xN8OiD"}],"key":"ug50SStv2e"},{"type":"heading","depth":3,"position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Properties of k-means clustering","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"RlPFyGUm1Q"}],"identifier":"properties-of-k-means-clustering","label":"Properties of k-means clustering","html_id":"properties-of-k-means-clustering","implicit":true,"key":"XxkBMnau2G"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":158,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":158,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"Guaranteed to\tconverge in a finite number of iterations.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"H3XfX7UcBa"}],"key":"WKnItqcXNX"}],"key":"AX36ejivBu"},{"type":"listItem","spread":true,"position":{"start":{"line":160,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"Running time per iteration:","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"uzMLtA9Oda"}],"key":"JNJpU93bZv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":161,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"assign data points to closest cluster center: O(KN) time","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"PTC4tKf0ga"}],"key":"PAA9n2tzDg"}],"key":"aobnzl26GH"},{"type":"listItem","spread":true,"position":{"start":{"line":162,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"change the cluster center to average of its assigned points: O(N)","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"xS2Z41lyxG"}],"key":"uabK3Fo5jW"}],"key":"Qfox8wPmLK"}],"key":"U9JVZtqAHT"}],"key":"ChwTAY0SUT"},{"type":"listItem","spread":true,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Sensitive to outliers since an object with an extremely large value may substantially move a center.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"YT0hGB4gf6"}],"key":"pIjD7VQpgp"}],"key":"RyT25oPLNA"}],"key":"vxe0XA1G7j"}],"key":"fDBkSb4FSr"}],"key":"d9uFORTx1T"},"references":{"cite":{"order":[],"data":{}}}}