## Data Preparation
------
.square[The Steps]

.headnote.square.bold.x-large[Statistical Pattern I]

---
class: center, middle

### What do you think is the .red[first step] of .red[data analysis]?

.xkcd[Yes, it is Data Preprocessing]

---
class: center, middle

### About Data Preprocessing

<img src="resources/w02-img/preprocessing_steps.drawio.png" width="70%" align="center">

.square[Data preprocessing process.]

---
class: left, middle

.split-40[.column[
### What to do after data collection

].column[
- Identifying structure
- Cleaning and Editing
- Coding
- Classification
- Transcription
- Alignment
- Tabulation
- Transformation
- Initial analysis

.xkcd[The steps are not sequential.
Sometimes, some steps are done repeatedly and iteratively.]
]]

---
class: left, middle

.split-40[.column[
### What to do after data collection
- .red[Identifying structure]
- Cleaning and Editing
- Coding
- Classification
- Transcription
- Alignment
- Tabulation
- Transformation
- Initial analysis

].column[
#### Identifying structure
.bold.blue[Look at the patterns]
- What is/was the purpose for data collection?
- What is the design strategy of data collection?
- What is the structure/organization of the collected data?

.bold.blue[Any expectations? Counter-intuitive patterns?]
- Is there any (expected/unexpected) relationships between variables?
- Is there any (expected/unexpected) hierarchies?
- Is there any (expected/unexpected) groupings?

]]

---
class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- .red[Cleaning and Editing]
- Coding
- Classification
- Transcription
- Alignment
- Tabulation
- Transformation
- Initial analysis

].column[
#### Data Cleaning & Editing
- Remove errors.
- Remove inconsistencies.
- Resolve duplicate entries.
- What to do with missing values (default values, inputation, interpolation, deletion)?
- What to do with outliers?
- Verify accuracy of individual data points.
- Ensure data is complete and consistent.
- Use manual editing or automated data validation techniques.
- Correct typos or formatting issues.

.xkcd[.blue[Documenting]: write down the steps you took. ]
]]

---
class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Cleaning and Editing
- .red[Coding]
- Classification
- Transcription
- Alignment
- Tabulation
- Transformation
- Initial analysis

].column[
#### Coding
- Assign codes to qualitative data (e.g., survey responses), e.g.,
    - yes/no, true/false to 1 and 0 (or 1 and 2)
    - male/female to 1 and 0 (or 1 and 2)
    - ordered data, e.g., Very disagree, slightly disagree, neutral, slightly agree, very agree, to numbers (-2 to 2, or 0 to 4), etc.
    - categorical data, e.g., land use, land cover, urban functional zones, house types, to numbers (nominal).
- Create new variables based on existing ones, e.g.,
    - calculating age from year of birth,
    - 5 yo age groups from age,
    - income levels from gross income,
    - measuring differences (differences of magnitude vs. magnitude of differences).
- Use consistent coding schemes across various data sources.

.xkcd[.blue[Documenting]: write down the code definitions and rules. ]
]]

---

class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Cleaning and Editing
- Coding
- .red[Classification]
- Transcription
- Alignment
- Tabulation
- Transformation
- Initial analysis

].column[
#### Classification
- Organize data into predefined categories or classes.
- Define classification criteria or rules:
    - at what level of household income could be considered as 'high'/'medium'/'low' income
    - how many times a month can be considered high frequency
- Apply classification methods consistently:
    - natural break, head-tail break, quantiles, etc.
- Evaluate classification validity, accuracy and consistency.

.xkcd[.blue[Documenting]: write down the classification method and your reason. ]
]]

---

class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Cleaning and Editing
- Coding
- Classification
- .red[Transcription]
- Alignment
- Tabulation
- Transformation
- Initial analysis

].column[
#### Transcription
(mainly for qualitative data collection approach)
- Convert audio to text using speech-to-text software.
- Transcribe video content to text format.
- Extract text from images using OCR (Optical Character Recognition).
- Perform manual or automated transcription as needed.

]]

---

class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Cleaning and Editing
- Coding
- Classification
- Transcription
- .red[Alignment]
- Tabulation
- Transformation
- Initial analysis

].column[
#### Alignment
- Standardize formats, naming conventions, spatial scales, and units of measurement.
- Ensure compatibility between different data sources.
- Make sure the projections and anchor points are same.
- Handle inconsistencies in data representation or encoding.

.xkcd[.blue[Documenting]: write down data alignment decisions and procedures. ]
]]

---

class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Cleaning and Editing
- Coding
- Classification
- Transcription
- Alignment
- .red[Tabulation]
- Transformation
- Initial analysis

].column[
#### Tabulation
- Summarize data into tables or cross-tabulations.
- Create join-able tables:
    - unique identifiers/keys for every person/location
    - split tables for participants' background, participants' perspective on XXX, participants' performance
- Facilitate exploratory data analysis (EDA) and reporting.
- Create pivot tables or aggregated data views.
- Present data in a clear and concise format.

]]

---
class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Data cleaning and Editing
- Coding
- Classification
- Transcription
- Alignment
- Tabulation
- .red[Transformation]
- Initial analysis

].column[

#### Transformation
- Apply appropriate transformations
- Address .red[skewness, non-linearity, or differing scales].
- Perform tests as needed (statistics assumptions for further analyses, etc.).
- .red[Normalize or standardize] data as needed.
- Monitor impact on data distribution and relationships.

.xkcd[.blue[Documenting]: write down the steps and reasons. ]
]]

---
class: left, middle

.split-40[.column[
### What to do after data collection
- Identifying structure
- Data cleaning and Editing
- Coding
- Classification
- Transcription
- Alignment
- Tabulation
- Transformation
- .red[Initial analysis]

].column[
#### Initial analysis
- Perform exploratory data analysis (EDA) to gain insights.
- Identify trends, patterns, or relationships in the data.
- Check assumptions for further analysis or modeling.
- Generate visualizations (e.g., histograms, scatter plots) to support EDA.

]]

---
class: left, middle

.split-30[.column[
### Summary
].column[
#### Data (Pre)Processing
- Identifying structure: .blue.bold[Looking for patterns]
- Cleaning and Editing: .blue.bold[Identifying and resolving issues]
- Coding: .blue.bold[Assigning values and meanings]
- Classification: .blue.bold[Grouping and categorizing data]
- Transcription: .blue.bold[Extracting relevant information]
- Alignment: .blue.bold[Standardizing data formats]
- Tabulation: .blue.bold[Creating a structured view of data]
- Transformation: .blue.bold[Manipulating data for analysis]
- Initial analysis: .blue.bold[Exploring patterns and trends]
]]

---
class: center, middle

<img src="resources/w01-img/drawing-how_maps_are_used.png" width="70%" align="center">

.square[MacEachren's cartographic cube.]
